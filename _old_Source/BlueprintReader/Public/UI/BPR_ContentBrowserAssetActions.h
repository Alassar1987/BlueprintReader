#pragma once

//==============================================================================
//  BPR_ContentBrowserAssetActions
//==============================================================================
//
//  Класс отвечает за интеграцию плагина в контекстное меню Content Browser.
//  Добавляет пользовательский пункт "Show BP as MD" и обрабатывает его.
//
//  Сейчас пункт выводится всегда, без проверок типов. Позже можно добавить:
//  - фильтрацию по типу ассетов;
//  - дополнительные команды;
//  - подменю.
//
//==============================================================================

#include "CoreMinimal.h"
#include "ToolMenus.h"
#include "ContentBrowserModule.h"
#include "IContentBrowserSingleton.h"
#include "AssetRegistry/AssetData.h"


class FBPR_ContentBrowserAssetActions
{
public:

    //--------------------------------------------------------------------------
    //  Инициализация / деинициализация UI пунктов
    //--------------------------------------------------------------------------

    /** Регистрирует пункт "Show BP as MD" в контекстном меню Content Browser */
    void Register();

    /** Удаляет пункты меню, принадлежащие этому классу */
    void Unregister();


private:

    //--------------------------------------------------------------------------
    //  Логика обработки команды
    //--------------------------------------------------------------------------

    /** Обработчик клика на пункт "Show BP as MD" */
    void OnShowBPAsMDClicked();

    /** Получает выделенный ассет из Content Browser */
    UObject* GetSelectedAsset() const;
};

